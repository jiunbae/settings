IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiIKVmF1bHQgQ2xlYW51cCAtIOyemOuqu+uQnCDtj7TrjZQg6rWs7KGwIOygleumrAoK6rec7LmZOgotIHdvcmtzcGFjZS97cHJvamVjdH0te3N1YmRpcn0vIOKGkiB3b3Jrc3BhY2Uve3Byb2plY3R9LyDroZwg67OR7ZWpCi0gd29ya3NwYWNlL2V4dC17bmFtZX0vIOKGkiB3b3Jrc3BhY2UtZXh0L3tuYW1lfS8g66GcIOydtOuPmQotIOyemOuqu+uQnCDtj7TrjZTrqoUgKC0sIOqyveuhnCDslYTti7DtjKntirgpIOyCreygnAotIENvdWNoRELsl5DshJzrj4Qg7ZW064u5IOusuOyEnCDsgq3soJwgKExpdmVTeW5jIOuPmeq4sO2ZlCDrsKnsp4ApCgpVc2FnZToKICAgIHB5dGhvbiB2YXVsdC1jbGVhbnVwLnB5IC0tZHJ5LXJ1biAgIyDrr7jrpqzrs7TquLAKICAgIHB5dGhvbiB2YXVsdC1jbGVhbnVwLnB5ICAgICAgICAgICAgIyDsi6TtlokKIiIiCgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IHNodXRpbAppbXBvcnQganNvbgppbXBvcnQgdXJsbGliLnJlcXVlc3QKaW1wb3J0IHVybGxpYi5lcnJvcgppbXBvcnQgYmFzZTY0CmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQoKVkFVTFRfUk9PVCA9IFBhdGguaG9tZSgpIC8gInMtbGFzdG9yZGVyIgpXT1JLU1BBQ0VfRElSID0gVkFVTFRfUk9PVCAvICJ3b3Jrc3BhY2UiCldPUktTUEFDRV9FWFRfRElSID0gVkFVTFRfUk9PVCAvICJ3b3Jrc3BhY2UtZXh0IgoKIyBDb3VjaERCIOyEpOyglSAodmF1bHQtc3luYy5weeyZgCDrj5nsnbwpCkNPVUNIREJfVVJJID0gImh0dHBzOi8vb2JzaWRpYW4uaml1bi5kZXYiCkNPVUNIREJfVVNFUiA9ICJhZG1pbiIKQ09VQ0hEQl9QQVNTV09SRCA9ICJKaXVuNTQ4NkAjIgpDT1VDSERCX0RCTkFNRSA9ICJvYnNpZGlhbiIKCiMg67OR7ZWpIOq3nOy5mTogc291cmNlIOKGkiB0YXJnZXQKTUVSR0VfUlVMRVMgPSBbCiAgICAjIGV4dC0qIOKGkiB3b3Jrc3BhY2UtZXh0LwogICAgKCJ3b3Jrc3BhY2UvZXh0LWNsYXdkYm90IiwgIndvcmtzcGFjZS1leHQvY2xhd2Rib3QiKSwKICAgICgid29ya3NwYWNlL2V4dC12aXNpb24taW5zaWdodC1hcGkiLCAid29ya3NwYWNlLWV4dC92aXNpb24taW5zaWdodC1hcGkiKSwKCiAgICAjIHNzdWRhbS0qIOKGkiBzc3VkYW0vCiAgICAoIndvcmtzcGFjZS9zc3VkYW0tYW1vcmVtYWxsIiwgIndvcmtzcGFjZS9zc3VkYW0iKSwKICAgICgid29ya3NwYWNlL3NzdWRhbS1hdXRvY29tcGxldGUiLCAid29ya3NwYWNlL3NzdWRhbSIpLAogICAgKCJ3b3Jrc3BhY2Uvc3N1ZGFtLWNhbGVuZGFyIiwgIndvcmtzcGFjZS9zc3VkYW0iKSwKICAgICgid29ya3NwYWNlL3NzdWRhbS1sYW5kaW5nIiwgIndvcmtzcGFjZS9zc3VkYW0iKSwKICAgICgid29ya3NwYWNlL3NzdWRhbS1vbGl2ZXlvdW5nIiwgIndvcmtzcGFjZS9zc3VkYW0iKSwKICAgICgid29ya3NwYWNlL3NzdWRhbS1zc3VkYW0tc2VydmVyIiwgIndvcmtzcGFjZS9zc3VkYW0iKSwKCiAgICAjIHByb3Bvc2FsLSog4oaSIHByb3Bvc2FsLwogICAgKCJ3b3Jrc3BhY2UvcHJvcG9zYWwtMjAyNS0xMi0zZC1jcmFjayIsICJ3b3Jrc3BhY2UvcHJvcG9zYWwiKSwKICAgICgid29ya3NwYWNlL3Byb3Bvc2FsLTIwMjUtMTItbGxtLXdlYjMiLCAid29ya3NwYWNlL3Byb3Bvc2FsIiksCiAgICAoIndvcmtzcGFjZS9wcm9wb3NhbC0yMDI1LTEyLXRyYXNoLWNsYXNzaWZpY2F0aW9uIiwgIndvcmtzcGFjZS9wcm9wb3NhbCIpLAoKICAgICMgY2FsZXgtKiDihpIgY2FsZXgvCiAgICAoIndvcmtzcGFjZS9jYWxleC1hcHBzLXNlcnZlciIsICJ3b3Jrc3BhY2UvY2FsZXgiKSwKICAgICgid29ya3NwYWNlL2NhbGV4LWF1dGgtdWkiLCAid29ya3NwYWNlL2NhbGV4IiksCiAgICAoIndvcmtzcGFjZS9jYWxleC1zZXJ2ZXIiLCAid29ya3NwYWNlL2NhbGV4IiksCgogICAgIyBPdGhlciBtZXJnZXMKICAgICgid29ya3NwYWNlL2FnZW50LXNraWxscy1jb250ZXh0IiwgIndvcmtzcGFjZS9hZ2VudC1za2lsbHMiKSwKICAgICgid29ya3NwYWNlL09UUFdpZGdldC1hcHBsZSIsICJ3b3Jrc3BhY2UvT1RQV2lkZ2V0IiksCl0KCiMg7IKt7KCc7ZWgIO2PtOuNlApERUxFVEVfRk9MREVSUyA9IFsKICAgICJ3b3Jrc3BhY2UvZXh0IiwgICMgcm9vdCBzZXNzaW9ucwogICAgIndvcmtzcGFjZS8tY2xhdWRlLXBsdWdpbnMiLAogICAgIndvcmtzcGFjZS8tY29uZmlnLW9wZW5jb2RlIiwKICAgICJ3b3Jrc3BhY2UvLXNzaCIsCiAgICAid29ya3NwYWNlL0Rvd25sb2Fkcy02LVN1YndheS02LVN1YndheSIsCiAgICAid29ya3NwYWNlL0xpYnJhcnktTW9iaWxlLURvY3VtZW50cy1jb20tYXBwbGUtQ2xvdWREb2NzLURvY3VtZW50cy1zLWxhc3RvcmRlciIsCiAgICAid29ya3NwYWNlL3dvcmtzcGFjZSIsCiAgICAid29ya3NwYWNlL3dvcmtzcGFjZS12aWJlIiwKXQoKIyDsnbTrj5ntlaAg7YyM7J28Ck1PVkVfRklMRVMgPSBbCiAgICAoIndvcmtzcGFjZS/snbTrpoQg7JeG64qUIOuztOuTnC5tZCIsICJ3b3Jrc3BhY2UvX21pc2Mv7J2066aEIOyXhuuKlCDrs7Trk5wubWQiKSwKICAgICgid29ya3NwYWNlL1Rhc2tNYW5hZ2UubWQiLCAid29ya3NwYWNlL19taXNjL1Rhc2tNYW5hZ2UubWQiKSwKXQoKCmRlZiBjb3VjaGRiX3JlcXVlc3QobWV0aG9kOiBzdHIsIHBhdGg6IHN0ciwgZGF0YTogZGljdCA9IE5vbmUpIC0+IGRpY3Q6CiAgICAiIiJDb3VjaERCIEFQSSDsmpTssq0iIiIKICAgIHVybCA9IGYie0NPVUNIREJfVVJJfS97Q09VQ0hEQl9EQk5BTUV9L3twYXRofSIKICAgIGF1dGggPSBiYXNlNjQuYjY0ZW5jb2RlKGYie0NPVUNIREJfVVNFUn06e0NPVUNIREJfUEFTU1dPUkR9Ii5lbmNvZGUoKSkuZGVjb2RlKCkKCiAgICBoZWFkZXJzID0gewogICAgICAgICJBdXRob3JpemF0aW9uIjogZiJCYXNpYyB7YXV0aH0iLAogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICB9CgogICAgYm9keSA9IGpzb24uZHVtcHMoZGF0YSkuZW5jb2RlKCkgaWYgZGF0YSBlbHNlIE5vbmUKICAgIHJlcSA9IHVybGxpYi5yZXF1ZXN0LlJlcXVlc3QodXJsLCBkYXRhPWJvZHksIGhlYWRlcnM9aGVhZGVycywgbWV0aG9kPW1ldGhvZCkKCiAgICB0cnk6CiAgICAgICAgd2l0aCB1cmxsaWIucmVxdWVzdC51cmxvcGVuKHJlcSwgdGltZW91dD0zMCkgYXMgcmVzcDoKICAgICAgICAgICAgcmV0dXJuIGpzb24ubG9hZHMocmVzcC5yZWFkKCkuZGVjb2RlKCkpCiAgICBleGNlcHQgdXJsbGliLmVycm9yLkhUVFBFcnJvciBhcyBlOgogICAgICAgIGlmIGUuY29kZSA9PSA0MDQ6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgcmFpc2UKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgZGVsZXRlX2Zyb21fY291Y2hkYihmb2xkZXJfcHJlZml4OiBzdHIsIGRyeV9ydW46IGJvb2wpIC0+IGludDoKICAgICIiIkNvdWNoRELsl5DshJwg7Yq57KCVIO2PtOuNlCDqsr3roZzroZwg7Iuc7J6R7ZWY64qUIOusuOyEnCDsgq3soJwiIiIKICAgIGRlbGV0ZWRfY291bnQgPSAwCgogICAgIyBzdGFydGtleS9lbmRrZXnroZwg67KU7JyEIOy/vOumrCAo642UIO2aqOycqOyggSkKICAgIHN0YXJ0ID0gdXJsbGliLnJlcXVlc3QucXVvdGUoZm9sZGVyX3ByZWZpeCwgc2FmZT0nJykKICAgIGVuZCA9IHVybGxpYi5yZXF1ZXN0LnF1b3RlKGZvbGRlcl9wcmVmaXggKyAiXHVmZmYwIiwgc2FmZT0nJykKCiAgICB0cnk6CiAgICAgICAgcmVzdWx0ID0gY291Y2hkYl9yZXF1ZXN0KCJHRVQiLCBmIl9hbGxfZG9jcz9zdGFydGtleT1cIntzdGFydH1cIiZlbmRrZXk9XCJ7ZW5kfVwiJmluY2x1ZGVfZG9jcz1mYWxzZSIpCiAgICAgICAgaWYgbm90IHJlc3VsdCBvciAicm93cyIgbm90IGluIHJlc3VsdDoKICAgICAgICAgICAgcmV0dXJuIDAKCiAgICAgICAgZG9jc190b19kZWxldGUgPSBbKHJvd1siaWQiXSwgcm93WyJ2YWx1ZSJdWyJyZXYiXSkgZm9yIHJvdyBpbiByZXN1bHRbInJvd3MiXV0KCiAgICAgICAgaWYgbm90IGRvY3NfdG9fZGVsZXRlOgogICAgICAgICAgICByZXR1cm4gMAoKICAgICAgICBpZiBkcnlfcnVuOgogICAgICAgICAgICBwcmludChmIiAgICBDb3VjaERCOiB7bGVuKGRvY3NfdG9fZGVsZXRlKX0gZG9jdW1lbnRzIHRvIGRlbGV0ZSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIGRvY19pZCwgcmV2IGluIGRvY3NfdG9fZGVsZXRlOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGNvdWNoZGJfcmVxdWVzdCgiREVMRVRFIiwgZiJ7dXJsbGliLnJlcXVlc3QucXVvdGUoZG9jX2lkLCBzYWZlPScnKX0/cmV2PXtyZXZ9IikKICAgICAgICAgICAgICAgICAgICBkZWxldGVkX2NvdW50ICs9IDEKICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgIA==ICAgICAgIHBhc3MgICMg7J2066+4IOyCreygnOuQnCDqsr3smrAg66y07IucCgogICAgICAgICAgICBpZiBkZWxldGVkX2NvdW50ID4gMDoKICAgICAgICAgICAgICAgIHByaW50KGYiICAgIENvdWNoREI6IHtkZWxldGVkX2NvdW50fSBkb2N1bWVudHMgZGVsZXRlZCIpCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYiICAgIFdhcm5pbmc6IENvdWNoREIgY2xlYW51cCBmYWlsZWQ6IHtlfSIpCgogICAgcmV0dXJuIGRlbGV0ZWRfY291bnQKCgpkZWYgbWVyZ2VfZm9sZGVyKHNyYzogUGF0aCwgZHN0OiBQYXRoLCBkcnlfcnVuOiBib29sKSAtPiBpbnQ6CiAgICAiIiLtj7TrjZQg64K07JqpIOuzke2VqSAoc2Vzc2lvbnMsIGNvbnRleHQg65OxKSIiIgogICAgaWYgbm90IHNyYy5leGlzdHMoKToKICAgICAgICByZXR1cm4gMAoKICAgIGNvdW50ID0gMAogICAgZm9yIGl0ZW0gaW4gc3JjLnJnbG9iKCIqIik6CiAgICAgICAgaWYgaXRlbS5pc19maWxlKCk6CiAgICAgICAgICAgIHJlbF9wYXRoID0gaXRlbS5yZWxhdGl2ZV90byhzcmMpCiAgICAgICAgICAgIHRhcmdldCA9IGRzdCAvIHJlbF9wYXRoCgogICAgICAgICAgICBpZiBkcnlfcnVuOgogICAgICAgICAgICAgICAgcHJpbnQoZiIgIE1FUkdFOiB7aXRlbS5yZWxhdGl2ZV90byhWQVVMVF9ST09UKX0g4oaSIHt0YXJnZXQucmVsYXRpdmVfdG8oVkFVTFRfUk9PVCl9IikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRhcmdldC5wYXJlbnQubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQogICAgICAgICAgICAgICAgaWYgbm90IHRhcmdldC5leGlzdHMoKToKICAgICAgICAgICAgICAgICAgICBzaHV0aWwuY29weTIoaXRlbSwgdGFyZ2V0KQogICAgICAgICAgICAgICAgICAgIHByaW50KGYiICBDb3BpZWQ6IHtyZWxfcGF0aH0iKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwcmludChmIiAgU2tpcHBlZCAoZXhpc3RzKToge3JlbF9wYXRofSIpCiAgICAgICAgICAgIGNvdW50ICs9IDEKCiAgICByZXR1cm4gY291bnQKCgpkZWYgZGVsZXRlX2ZvbGRlcihwYXRoOiBQYXRoLCBkcnlfcnVuOiBib29sKSAtPiBib29sOgogICAgIiIi7Y+0642UIOyCreygnCAo66Gc7LusICsgQ291Y2hEQikiIiIKICAgIHJlbF9wYXRoID0gc3RyKHBhdGgucmVsYXRpdmVfdG8oVkFVTFRfUk9PVCkpCiAgICBleGlzdHNfbG9jYWxseSA9IHBhdGguZXhpc3RzKCkKCiAgICBpZiBkcnlfcnVuOgogICAgICAgIGlmIGV4aXN0c19sb2NhbGx5OgogICAgICAgICAgICBmaWxlX2NvdW50ID0gc3VtKDEgZm9yIF8gaW4gcGF0aC5yZ2xvYigiKiIpIGlmIF8uaXNfZmlsZSgpKQogICAgICAgICAgICBwcmludChmIiAgREVMRVRFOiB7cmVsX3BhdGh9ICh7ZmlsZV9jb3VudH0gZmlsZXMpIikKICAgICAgICBkZWxldGVfZnJvbV9jb3VjaGRiKHJlbF9wYXRoLCBkcnlfcnVuPVRydWUpCiAgICBlbHNlOgogICAgICAgIGlmIGV4aXN0c19sb2NhbGx5OgogICAgICAgICAgICBzaHV0aWwucm10cmVlKHBhdGgpCiAgICAgICAgICAgIHByaW50KGYiICBEZWxldGVkIChsb2NhbCk6IHtyZWxfcGF0aH0iKQogICAgICAgIGRlbGV0ZV9mcm9tX2NvdWNoZGIocmVsX3BhdGgsIGRyeV9ydW49RmFsc2UpCgogICAgcmV0dXJuIFRydWUKCgpkZWYgbW92ZV9maQ==bGUoc3JjOiBQYXRoLCBkc3Q6IFBhdGgsIGRyeV9ydW46IGJvb2wpIC0+IGJvb2w6CiAgICAiIiLtjIzsnbwg7J2064+ZIiIiCiAgICBpZiBub3Qgc3JjLmV4aXN0cygpOgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGlmIGRyeV9ydW46CiAgICAgICAgcHJpbnQoZiIgIE1PVkU6IHtzcmMucmVsYXRpdmVfdG8oVkFVTFRfUk9PVCl9IOKGkiB7ZHN0LnJlbGF0aXZlX3RvKFZBVUxUX1JPT1QpfSIpCiAgICBlbHNlOgogICAgICAgIGRzdC5wYXJlbnQubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQogICAgICAgIHNodXRpbC5tb3ZlKHNyYywgZHN0KQogICAgICAgIHByaW50KGYiICBNb3ZlZDoge3NyYy5uYW1lfSIpCgogICAgcmV0dXJuIFRydWUKCgpkZWYgbWFpbigpOgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249IlZhdWx0IO2PtOuNlCDqtazsobAg7KCV66asIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tZHJ5LXJ1biIsIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsIGhlbHA9IuuvuOumrOuztOq4sCDrqqjrk5wiKQogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBwcmludCgiPSIgKiA2MCkKICAgIHByaW50KCJWYXVsdCBDbGVhbnVwIikKICAgIHByaW50KCI9IiAqIDYwKQogICAgcHJpbnQoZiJWYXVsdDoge1ZBVUxUX1JPT1R9IikKICAgIHByaW50KGYiTW9kZTogeydEUlktUlVOICjrr7jrpqzrs7TquLApJyBpZiBhcmdzLmRyeV9ydW4gZWxzZSAnTElWRSAo7Iuk7ZaJKSd9IikKICAgIHByaW50KCkKCiAgICBzdGF0cyA9IHsibWVyZ2VkIjogMCwgImRlbGV0ZWQiOiAwLCAibW92ZWQiOiAwfQoKICAgICMgMS4g67OR7ZWpCiAgICBwcmludCgiXG5bMV0gTWVyZ2luZyBmb2xkZXJzLi4uIikKICAgIG1lcmdlZF9zb3VyY2VzID0gW10gICMgQ291Y2hEQuyXkOyEnOuPhCDsgq3soJztlaAg7IaM7IqkIO2PtOuNlOuTpAogICAgZm9yIHNyY19yZWwsIGRzdF9yZWwgaW4gTUVSR0VfUlVMRVM6CiAgICAgICAgc3JjID0gVkFVTFRfUk9PVCAvIHNyY19yZWwKICAgICAgICBkc3QgPSBWQVVMVF9ST09UIC8gZHN0X3JlbAoKICAgICAgICBpZiBzcmMuZXhpc3RzKCk6CiAgICAgICAgICAgIHByaW50KGYiXG4gIHtzcmNfcmVsfSDihpIge2RzdF9yZWx9IikKICAgICAgICAgICAgY291bnQgPSBtZXJnZV9mb2xkZXIoc3JjLCBkc3QsIGFyZ3MuZHJ5X3J1bikKICAgICAgICAgICAgaWYgY291bnQgPiAwOgogICAgICAgICAgICAgICAgc3RhdHNbIm1lcmdlZCJdICs9IDEKICAgICAgICAgICAgICAgIG1lcmdlZF9zb3VyY2VzLmFwcGVuZChzcmNfcmVsKQogICAgICAgICAgICAgICAgIyDrs5Htlakg7ZuEIOybkOuzuCDsgq3soJwKICAgICAgICAgICAgICAgIGlmIG5vdCBhcmdzLmRyeV9ydW46CiAgICAgICAgICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShzcmMpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiIgIFJlbW92ZWQgc291cmNlIChsb2NhbCk6IHtzcmNfcmVsfSIpCgogICAgIyDrs5HtlanrkJwg7IaM7IqkIO2PtOuNlOuTpCBDb3VjaERC7JeQ7IScIOyCreygnAogICAgaWYgbWVyZ2VkX3NvdXJjZXM6CiAgICAgICAgcHJpbnQoIlxuICBDbGVhbmluZyB1cCBtZXJnZWQgc291cmNlcyBmcm9tIENvdWNoREIuLi4iKQogICAgICAgIGZvciBzcmNfcmVsIGluIG1lcmdlZF9zb3VyY2VzOgogICAgICAgICAgICBkZWxldGVfZnJvbV9jb3VjaGRiKHNyY19yZWwsIGFyZ3MuZHJ5X3J1bikKCiAgICAjIDIuIOyCreygnAogICAgcHJpbnQoIlxuWzJdIERlbGV0aW5nIGludmFsaWQgZm9sZGVycy4uLiIpCiAgICBmb3IgZm9sZGVyX3JlbCBpbiBERUxFVEVfRk9MREVSUzoKICAgICAgICBwYXRoID0gVkFVTFRfUk9PVCAvIGZvbGRlcl9yZWwKICAgICAgICBpZiBkZWxldGVfZm9sZGVyKHBhdGgsIGFyZ3MuZHJ5X3J1bik6CiAgICAgICAgICAgIHN0YXRzWyJkZWxldGVkIl0gKz0gMQoKICAgICMgMy4g7YyM7J28IOydtOuPmQogICAgcHJpbnQoIlxuWzNdIE1vdmluZyBmaWxlcy4uLiIpCiAgICBmb3Igc3JjX3JlbCwgZHN0X3JlbCBpbiBNT1ZFX0ZJTEVTOgogICAgICAgIHNyYyA9IFZBVUxUX1JPT1QgLyBzcmNfcmVsCiAgICAgICAgZHN0ID0gVkFVTFRfUk9PVCAvIGRzdF9yZWwKICAgICAgICBpZiBtb3ZlX2ZpbGUoc3JjLCBkc3QsIGFyZ3MuZHJ5X3J1bik6CiAgICAgICAgICAgIHN0YXRzWyJtb3ZlZCJdICs9IDEKCiAgICAjIOyalOyVvQogICAgcHJpbnQoIlxuIiArICI9IiAqIDYwKQogICAgcHJpbnQoIlN1bW1hcnkiKQogICAgcHJpbnQoIj0iICogNjApCiAgICBwcmludChmIiAgTWVyZ2VkOiB7c3RhdHNbJ21lcmdlZCddfSBmb2xkZXJzIikKICAgIHByaW50KGYiICBEZWxldGVkOiB7c3RhdHNbJ2RlbGV0ZWQnXX0gZm9sZGVycyIpCiAgICBwcmludChmIiAgTW92ZWQ6IHtzdGF0c1snbW92ZWQnXX0gZmlsZXMiKQoKICAgIGlmIGFyZ3MuZHJ5X3J1bjoKICAgICAgICBwcmludCgiXG7imqDvuI8gIFRoaXMgd2FzIGEgRFJZLVJVTi4gTm8gY2hhbmdlcyB3ZXJlIG1hZGUuIikKICAgICAgICBwcmludCgiICAgIFJ1biB3aXRob3V0IC0tZHJ5LXJ1biB0byBhcHBseSBjaGFuZ2VzLiIpCiAgICBlbHNlOgogICAgICAgIHByaW50KCJcbuKchSBDbGVhbnVwIGNvbXBsZXRlISIpCiAgICAgICAgcHJpbnQoIiAgICBSdW4gJ3ZhdWx0LXN5bmMucHkgaW5kZXgnIHRvIHJlZ2VuZXJhdGUgSU5ERVggZmlsZXMuIikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg==